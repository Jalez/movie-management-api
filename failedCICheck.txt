Run ./gradlew jacocoTestCoverageVerification --no-daemon
  
To honour the JVM settings for this build a single-use Daemon process will be forked. For more on this, please refer to https://docs.gradle.org/8.14.2/userguide/gradle_daemon.html#sec:disabling_the_daemon in the Gradle documentation.
Daemon will be stopped at the end of the build 
> Task :bootBuildInfo
> Task :compileJava UP-TO-DATE
> Task :processResources UP-TO-DATE
> Task :classes
> Task :compileTestJava UP-TO-DATE
> Task :processTestResources UP-TO-DATE
> Task :testClasses UP-TO-DATE
> Task :test
MovieManagementApiApplicationTests STANDARD_OUT
    15:48:37.538 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.movieapi.MovieManagementApiApplicationTests]: MovieManagementApiApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
    15:48:37.701 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.movieapi.MovieManagementApiApplication for test class com.movieapi.MovieManagementApiApplicationTests
      .   ____          _            __ _ _
     /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
    ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
     \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
      '  |____| .__|_| |_|_| |_\__, | / / / /
     =========|_|==============|___/=/_/_/_/
     :: Spring Boot ::                (v3.5.3)
    2025-07-11T15:48:38.441Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.MovieManagementApiApplicationTests   : Starting MovieManagementApiApplicationTests using Java 21.0.7 with PID 3272 (started by runner in /home/runner/work/movie-management-api/movie-management-api)
    2025-07-11T15:48:38.444Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.MovieManagementApiApplicationTests   : No active profile set, falling back to 1 default profile: "default"
    2025-07-11T15:48:40.262Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
    2025-07-11T15:48:40.348Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 1 JPA repository interface.
    2025-07-11T15:48:41.013Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
    2025-07-11T15:48:41.097Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
    2025-07-11T15:48:41.150Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
    2025-07-11T15:48:41.530Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
    2025-07-11T15:48:41.572Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
    2025-07-11T15:48:41.900Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
    2025-07-11T15:48:41.903Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
    2025-07-11T15:48:42.021Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
    	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
    	Database driver: undefined/unknown
    	Database version: 2.3.232
    	Autocommit mode: undefined/unknown
    	Isolation level: undefined/unknown
    	Minimum pool size: undefined/unknown
    	Maximum pool size: undefined/unknown
    2025-07-11T15:48:43.366Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
    2025-07-11T15:48:43.413Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
    2025-07-11T15:48:43.776Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
    2025-07-11T15:48:45.289Z  WARN 3272 --- [MovieManagementAPI] [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
    2025-07-11T15:48:46.070Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
    2025-07-11T15:48:46.090Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
    2025-07-11T15:48:46.186Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.MovieManagementApiApplicationTests   : Started MovieManagementApiApplicationTests in 8.267 seconds (process running for 10.226)
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
> Task :test
MovieManagementApiApplicationTests > contextLoads() PASSED
MovieControllerIntegrationTest STANDARD_OUT
    2025-07-11T15:48:46.461Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.movieapi.controller.MovieControllerIntegrationTest]: MovieControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
    2025-07-11T15:48:46.491Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.movieapi.MovieManagementApiApplication for test class com.movieapi.controller.MovieControllerIntegrationTest
      .   ____          _            __ _ _
     /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
    ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
     \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
      '  |____| .__|_| |_|_| |_\__, | / / / /
     =========|_|==============|___/=/_/_/_/
     :: Spring Boot ::                (v3.5.3)
    2025-07-11T15:48:46.532Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.c.MovieControllerIntegrationTest     : Starting MovieControllerIntegrationTest using Java 21.0.7 with PID 3272 (started by runner in /home/runner/work/movie-management-api/movie-management-api)
    2025-07-11T15:48:46.533Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.c.MovieControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
    2025-07-11T15:48:46.854Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
    2025-07-11T15:48:46.870Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 1 JPA repository interface.
    2025-07-11T15:48:46.962Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
    2025-07-11T15:48:46.966Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
    2025-07-11T15:48:46.978Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
    2025-07-11T15:48:46.979Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
    2025-07-11T15:48:46.981Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
    2025-07-11T15:48:46.981Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
    2025-07-11T15:48:46.982Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
    	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
    	Database driver: undefined/unknown
    	Database version: 2.3.232
    	Autocommit mode: undefined/unknown
    	Isolation level: undefined/unknown
    	Minimum pool size: undefined/unknown
    	Maximum pool size: undefined/unknown
    2025-07-11T15:48:47.045Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
    2025-07-11T15:48:47.052Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
    2025-07-11T15:48:47.185Z  WARN 3272 --- [MovieManagementAPI] [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
    2025-07-11T15:48:47.357Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
    2025-07-11T15:48:47.382Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
    2025-07-11T15:48:47.383Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
    2025-07-11T15:48:47.387Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
    2025-07-11T15:48:47.394Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 9 ms
    2025-07-11T15:48:47.425Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.c.MovieControllerIntegrationTest     : Started MovieControllerIntegrationTest in 0.926 seconds (process running for 11.465)
MovieControllerIntegrationTest > updateMovie_ToExistingTitleAndDirector_ShouldReturn409() STANDARD_OUT
    2025-07-11T15:48:47.900Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.service.impl.MovieServiceImpl        : Successfully created movie with ID: 1 - Inception
    2025-07-11T15:48:47.900Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.movieapi.controller.MovieController    : POST /movies - Successfully created movie with ID: 1 - Inception
    2025-07-11T15:48:47.943Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.service.impl.MovieServiceImpl        : Successfully created movie with ID: 2 - The Matrix
    2025-07-11T15:48:47.943Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.movieapi.controller.MovieController    : POST /movies - Successfully created movie with ID: 2 - The Matrix
MovieServiceImplTest > updateMovie_WhenMovieNotFound_ShouldThrowMovieNotFoundException() PASSED
MovieServiceImplTest > countMoviesByGenre_WhenGenreExists_ShouldReturnCount() PASSED
MovieServiceImplTest > getAllMovies_ShouldReturnAllMovies() STANDARD_OUT
    2025-07-11T15:48:51.561Z  INFO 3272 --- [MovieManagementAPI] [    Test worker] c.m.service.impl.MovieServiceImpl        : Retrieved 2 movies
MovieServiceImplTest > getAllMovies_ShouldReturnAllMovies() PASSED
MovieServiceImplTest > createMovie_WhenDuplicateExists_ShouldThrowDuplicateMovieException() STANDARD_OUT
    2025-07-11T15:48:51.563Z  WARN 3272 --- [MovieManagementAPI] [    Test worker] c.m.service.impl.MovieServiceImpl        : Attempted to create duplicate movie: Inception by Christopher Nolan
MovieServiceImplTest > createMovie_WhenDuplicateExists_ShouldThrowDuplicateMovieException() PASSED
MovieServiceImplTest > createMovie_WhenTitleTooLong_ShouldThrowInvalidMovieDataException() PASSED
MovieServiceImplTest > getMoviesByYear_WhenYearExists_ShouldReturnMovies() PASSED
MovieServiceImplTest > movieNotFoundException_GetterMethod_ShouldReturnValue() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithSortTooManyParts_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithMinRatingGreaterThanMaxRating_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithExcessiveMaxRating_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithSizeGreaterThan100_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithEmptyTitle_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithEmptyDirector_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithValidSortAsc_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithValidParameters_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithWhitespaceDirector_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithYearMaxTooHigh_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithValidFutureYear_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithValidParameters_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithYearMinGreaterThanYearMax_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithYearMinTooLow_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithValidSortDesc_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithInvalidSortField_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithBoundaryReleaseYear1900_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithMaxValidMinRating_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithSizeLessThanOne_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithYearMaxTooLow_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithNegativeMinRating_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithZeroMinRating_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithNullParameters_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithEmptyGenre_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithYearMinTooHigh_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithInvalidSortDirection_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithExcessiveMinRating_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithTooEarlyReleaseYear_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithWhitespaceGenre_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithCurrentYear_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithValidSortFieldOnly_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithTooFarFutureYear_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateSearchParameters_WithBoundaryMinRating_ShouldNotThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithNegativePage_ShouldThrowException() PASSED
MovieSearchValidatorTest > validateAdvancedSearchParameters_WithNegativeMaxRating_ShouldThrowException() PASSED
2025-07-11T15:48:51.631Z  INFO 3272 --- [MovieManagementAPI] [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11T15:48:51.746Z  INFO 3272 --- [MovieManagementAPI] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-11T15:48:51.748Z  INFO 3272 --- [MovieManagementAPI] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-11T15:48:51.752Z  INFO 3272 --- [MovieManagementAPI] [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11T15:48:51.754Z  INFO 3272 --- [MovieManagementAPI] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-11T15:48:51.756Z  INFO 3272 --- [MovieManagementAPI] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-11T15:48:51.758Z  INFO 3272 --- [MovieManagementAPI] [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists movies cascade 
> Task :test
-------------------------------------------------------------------
|  Results: SUCCESS (185 tests, 185 passed, 0 failed, 0 skipped)  |
-------------------------------------------------------------------
> Task :jacocoTestReport
> Task :jacocoTestCoverageVerification FAILED
[Incubating] Problems report is available at: file:///home/runner/work/movie-management-api/movie-management-api/build/reports/problems/problems-report.html
[ant:jacocoReport] Rule violated for class main.java.com.movieapi.dto.PagedMoviesResponse: lines covered ratio is 0.00, but expected minimum is 0.75
FAILURE: Build failed with an exception.
* What went wrong:
Execution failed for task ':jacocoTestCoverageVerification'.
> A failure occurred while executing org.gradle.internal.jacoco.JacocoCoverageAction
   > Rule violated for class main.java.com.movieapi.dto.PagedMoviesResponse: lines covered ratio is 0.00, but expected minimum is 0.75
* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to get full insights.
> Get more help at https://help.gradle.org.
BUILD FAILED in 25s
Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.
You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.
For more on this, please refer to https://docs.gradle.org/8.14.2/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.
8 actionable tasks: 4 executed, 4 up-to-date
Error: Process completed with exit code 1.